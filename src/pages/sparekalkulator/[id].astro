---
import Layout from '../../layouts/Layout.astro';
import PrivacyNotice from '../../components/PrivacyNotice.astro';
import SpareDetailPage from '../../components/SpareDetailPage';
import { CATEGORIES } from '../../components/sparedata';

export function getStaticPaths() {
  return CATEGORIES.map((cat) => ({
    params: { id: cat.id },
    props: { category: cat },
  }));
}

const { id } = Astro.params;
const { category } = Astro.props;
---

<Layout title={`${category.name} — Sparekalkulator — Pengeprat`} description={category.description}>
  <a href="/sparekalkulator" class="back-link">← Pengeprat / Sparekalkulator</a>
  <h1>{category.name}</h1>
  <p style="margin-bottom: var(--space-6);">
    {category.description}
  </p>

  <SpareDetailPage categoryId={id} client:load />

  <PrivacyNotice />
</Layout>
